<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script type="text/javascript">
        //look for code example at: https://www.youtube.com/watch?v=SjLJ8Dyuywg
        $(document).ready(function () {
            //starts the process by clicking the btnGetWiki button
            $("#btnGetWiki").click(function () {
                var requestData = $('#txtResults').val();
                var resultElement = $('#resultDiv');
                
                //init vars for bounding box here to plug into api call????
                var map_south_lat = map.getBounds();
                var bounds_ne = map_south_lat.getNorthEast();
                var bounds_sw = map_south_lat.getSouthWest();
                var ne_lat = bounds_ne.lat();
                var ne_lng = bounds_ne.lng();
                var sw_lat = bounds_sw.lat();
                var sw_lng = bounds_sw.lng();
                
                $.ajax({
                    url: 'http://api.geonames.org/wikipediaBoundingBoxJSON',
                    method: 'get',
                    data: {north:ne_lat , south:sw_lat , east:ne_lng , west:sw_lng , maxRows:requestData , username:'lowbrowsr'},
                    datetype: 'json',
                    success: function (data) {
                        
                        for (var i=0; i < data.geonames.length; i++) {
                            
                            var cord= {lat:data.geonames[i].lat, lng: data.geonames[i].lng},
                            var marker = new google.maps.Marker({
                            position: cord,
                            map: map,
                            });
                            
                    ///     resultElement.append('<p>' + 'Wikipedia Url: ' + "<a href= 'https://" + 
                     ///                      data.geonames[i].wikipediaUrl  + "'>link</a>" +
                       ///                    '<br>'+ '<p>Summary: ' + data.geonames[i].summary + '<p>' + '<br>');
                        }
                        console.log(data.geonames.length);
                    }
                });
            });
        });  
    </script>

      
  </head>

  <body>
    <table>
      <tr>
        <td>Number of results</td>
        <td><input type="text" id="txtResults" /></td>
      </tr>  
    </table>
     <input type="button" id="btnGetWiki" value="Get Wikipedia Results">
<br /><br />
    <div id="resultDiv"></div>

    
  </body>


</html>